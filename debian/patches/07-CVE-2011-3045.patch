--- trunk/src/third_party/libpng/pngrutil.c	2012/03/07 03:13:31	125310
+++ libpng-1.2.44/pngrutil.c	2012/03/07 03:14:32	125311
@@ -247,8 +247,8 @@
       {
          if (output != 0 && output_size > count)
          {
-            int copy = output_size - count;
-            if (avail < copy) copy = avail;
+            png_size_t copy = output_size - count;
+            if ((png_size_t) avail < copy) copy = (png_size_t) avail;
             png_memcpy(output + count, png_ptr->zbuf, copy);
          }
          count += avail;
